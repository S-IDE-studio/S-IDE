/**
 * dockview-theme-side
 *
 * Custom dockview theme for S-IDE (Side Studio IDE)
 * Monochrome Black theme - uses theme.css for all colors
 *
 * Theme class: dockview-theme-side
 *
 * Note: theme.css is imported in styles.css before this file
 */

@import "dockview/dist/styles/dockview.css";

/* ========================================
   S-IDE Custom dockview Theme
   ======================================== */

/* Force override all abyss theme colors to monochrome */
.dockview-theme-abyss,
.dockview-theme-abyss-spaced {
  --dv-color-abyss-accent: var(--color-accent, #ffffff) !important;
  --dv-color-abyss-accent-hover: var(--color-accent-hover, rgba(255, 255, 255, 0.15)) !important;
  --dv-color-abyss-background: var(--color-bg, #000000) !important;
  --dv-color-abyss-background2: var(--color-bg-soft, #0a0a0a) !important;
  --dv-color-abyss-foreground: var(--color-fg, #ffffff) !important;
  --dv-color-abyss-border: var(--color-border-active, #ffffff) !important;
  --dv-color-abyss-secondary: var(--color-bg-tertiary, #141414) !important;
}

.dockview-theme-side {
  /* Tauri: Disable window drag in dockview area to allow HTML5 drag & drop */
  -webkit-app-region: no-drag !important;

  /* ========================================
     Dockview Theme Colors (from theme.css)
     ======================================== */

  /* Override abyss theme colors to monochrome */
  --dv-color-abyss-accent: var(--color-accent);
  --dv-color-abyss-accent-hover: var(--color-accent-hover);

  /* Base backgrounds */
  --dv-group-view-background-color: var(--color-bg, #000000);
  --dv-tabs-and-actions-container-background-color: var(--color-bg-soft, #0a0a0a);

  /* Active group - visible panel */
  --dv-activegroup-visiblepanel-tab-background-color: var(--color-bg, #000000);
  --dv-activegroup-visiblepanel-tab-color: var(--color-fg, #ffffff);

  /* Active group - hidden panel */
  --dv-activegroup-hiddenpanel-tab-background-color: var(--color-bg-tertiary, #141414);
  --dv-activegroup-hiddenpanel-tab-color: var(--color-fg-dim, #888888);

  /* Inactive group - visible panel */
  --dv-inactivegroup-visiblepanel-tab-background-color: var(--color-bg, #000000);
  --dv-inactivegroup-visiblepanel-tab-color: var(--color-fg-dim, #888888);

  /* Inactive group - hidden panel */
  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--color-bg-soft, #0a0a0a);
  --dv-inactivegroup-hiddenpanel-tab-color: var(--color-muted, #666666);

  /* Dividers and borders */
  --dv-tab-divider-color: var(--border, transparent);
  --dv-separator-border: var(--border-active, #ffffff);
  --dv-paneview-header-border-color: rgba(255, 255, 255, 0.1);

  /* Interactive elements */
  --dv-icon-hover-background-color: var(--color-hover, rgba(255, 255, 255, 0.1));
  --dv-drag-over-background-color: rgba(255, 255, 255, 0.08);
  --dv-drag-over-border-color: var(--color-accent-dim, #666666);

  /* Sash (resize handle) */
  --dv-sash-color: transparent;
  --dv-active-sash-color: var(--color-accent, #ffffff);
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;

  /* Scrollbar */
  --dv-tabs-container-scrollbar-color: var(--color-muted, #666666);
  --dv-scrollbar-background-color: rgba(255, 255, 255, 0.25);

  /* Focus and active states */
  --dv-paneview-active-outline-color: var(--color-accent-dim, #666666);

  /* ========================================
     Layout & Typography
     ======================================== */

  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-tab-font-size: inherit;
  --dv-tab-margin: 0;
  --dv-border-radius: 0px;

  /* Floating panels */
  --dv-floating-box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);

  /* Overlay z-index */
  --dv-overlay-z-index: 999;
}

/* ========================================
     Drag & Drop States
     ======================================== */

/* Subtle drop target indication for tab dragging */
.dockview-theme-side .dv-drop-target-container
  .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {
  /* Force monochrome black background */
  background-color: rgba(0, 0, 0, 0.05) !important;
  border-bottom: 2px solid var(--color-accent);
}

/* ========================================
     Tab Styling
     ======================================== */

/* Force monochrome tab backgrounds */
.dockview-theme-side .dv-tab {
  -webkit-app-region: no-drag !important;
  pointer-events: auto !important;
  /* Force monochrome background */
  background-color: var(--color-bg) !important;
  color: var(--color-fg);
}

/* Force monochrome tabs container */
.dockview-theme-side .dv-tabs-container,
.dockview-theme-side .dv-tabs-and-actions-container {
  -webkit-app-region: no-drag !important;
  /* Force monochrome background */
  background-color: var(--color-bg-soft) !important;
}

/* ========================================
     Panel Content Area
     ======================================== */

/* Panel content area styling */
.dockview-theme-side .dv-react-part {
  background-color: var(--color-bg);
  color: var(--color-fg);
  overflow: auto;
  min-height: 0;
  flex: 1;
}

/* Ensure panel content fills container */
.dockview-theme-side .dv-react-part-container {
  background-color: var(--color-bg);
  display: flex;
  flex-direction: column;
  width: 100%;
  min-height: 0;
  flex: 1;
  overflow: hidden;
}

/* Add padding to panel contents */
.dockview-theme-side .server-settings-panel,
.dockview-theme-side .setup-panel,
.dockview-theme-side .agent-panel,
.dockview-theme-side .workspace-panel,
.dockview-theme-side .deck-panel {
  padding: 20px;
  width: 100%;
  height: 100%;
  overflow: auto;
  box-sizing: border-box;
}

/* ========================================
     Separator (Hidden)
     ======================================== */

/* Hide separator completely for cleaner monochrome look */
.dockview-theme-side .dv-separator {
  display: none !important;
}

.dockview-theme-side.dv-separator-border .dv-view:not(:first-child)::before {
  display: none;
}

/* ========================================
     Sash (Resize Handle) - Force Monochrome
     ======================================== */

/* Force all sash states to monochrome colors */
.dockview-theme-side .dv-sash {
  background: transparent !important;
}

.dockview-theme-side .dv-sash::after {
  background-color: transparent !important;
}

.dockview-theme-side .dv-sash:hover,
.dockview-theme-side .dv-sash:active {
  background: var(--color-accent) !important;
}

.dockview-theme-side .dv-sash:hover::after,
.dockview-theme-side .dv-sash:active::after {
  background-color: var(--color-accent) !important;
}

/* Sash drag overlay */
.dockview-theme-side .dv-sash-drag-overlay {
  background: rgba(255, 255, 255, 0.05) !important;
}
